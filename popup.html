<!doctype html>
<html>
  <head>
    <title>Inter-Galactic Translation App</title>

    <link rel="stylesheet" href="bower_components/angular-material/angular-material.css">
    <link rel="stylesheet" href="bower_components/fontawesome/css/font-awesome.min.css">

    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/csp.css">
    <script src="js/jquery-2.1.4.min.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-aria/angular-aria.js"></script>
    <script src="bower_components/angular-animate/angular-animate.js"></script>
    <script src="bower_components/angular-material/angular-material.js"></script>
    <script src="js/uirouter.js"></script>
    <script src="js/respoke.js"></script>
    <script src="js/popup.js"></script>
    <script src="js/latinize.js"></script>
    <script src="js/computerspeak.js"></script>
    <script src="js/socket.io-1.3.5.js"></script>
  </head>
  <body ng-app="myApp" ng-csp>
      
    <div ng-controller="RespokeController">
    
        <md-toolbar ng-show="!connected">
           <div class="md-toolbar-tools">
            <h2 class="md-flex">Inter-Galactic Translation Service</h2>
            </div>
        </md-toolbar>
        <md-toolbar class="md-warn" ng-show="connected">
        <div class="md-toolbar-tools">
          <h2 class="md-flex">Connected as {{username}}</h2>
          <div flex></div>
          <md-button ng-click="disconnect()" aria-label="disconnect">disconnect</md-button>
        </div>
        </md-toolbar>
    
        <md-content layout-padding>
        
        <div ng-show="!connected">
            <md-input-container>
               <label>Username</label>
              <input ng-model="username">
            </md-input-container>
            <md-button class="md-primary md-raised" ng-click="connect()">Connect</md-button>
        </div>
       
        <div ng-show="connected">
          
        <div layout="row">
            <md-input-container flex>
                <label>User to Call</label>
                <input ng-model="friendID" ng-show="!activeCall">
            </md-input-container>
            <md-button ng-click="call()" ng-show="!activeCall" aria-label="begin call"><i class="fa fa-phone"></i></md-button>
            <md-button ng-click="hangup()" ng-show="activeCall" aria-label="end call">Hang up</md-button>
        </div>
           
        <div id="options" layout="row">
           <div layout="column">
                <md-toolbar>
                   <div class="md-toolbar-tools">
                        <h2 class="md-flex">From</h2>
                   </div>
                </md-toolbar>
                <md-select placeholder="select" ng-model="lang_in">
                    <md-option ng-repeat="item in languages">{{item.name}}</md-option>
                </md-select>
            </div>
            <div layout="column">
               <md-toolbar>
                   <div class="md-toolbar-tools">
                        <h2 class="md-flex">To</h2>
                   </div>
                </md-toolbar>
                <md-select placeholder="select" ng-model="lang_out">
                    <md-option ng-repeat="item in languages">{{item.name}}</md-option>
                </md-select>
            </div>
            <div layout="column" ng-show="lang_out && lang_in">
                <md-toolbar>
                   <div class="md-toolbar-tools">
                        <h2 class="md-flex">Voice</h2>
                   </div>
                </md-toolbar>
                <md-select placeholder="select" ng-model="voice"> 
                    <md-option ng-repeat="item in voices | langFilt:lang_out">{{item.voiceName}}</md-option>
                </md-select>
            </div>
        
                    
            
        </div>
          
          
                  <div id="remoteVideoSource"></div>
        <div id="localVideoSource"></div>
                
        <div layout="row">
        
        <md-switch ng-model="translating" aria-label="translating">
            Translating: {{ translating }}
        </md-switch>
        
        <md-slider flex ng-show="translating" class="md-primary" md-discrete ng-model="volume" step=".1" min="0" max="1" aria-label="volume">
        
        </div>
           
           

        </div>
            

        
        
                  <md-input-container>
            <label>Enter message here</label>
            <input ng-model="message" ng-show="connected"></input>
          </md-input-container>
          <md-button ng-click="send()" ng-show="connected" aria-label="send message">Send Message</md-button>

        </div>
        
        
        <md-button ng-show="connected" ng-click="toggle()"> start listening</button>
        <p>{{transcript}}</p>
        <p>{{output}}</p>
       
        </md-content>
   
    </div>
           
  
  <script src="js/rtt.js"></script>
  </body>
</html>