<!doctype html>
<html>
  <head>
    <title>Inter-Galactic Translation App</title>

    <link rel="stylesheet" href="bower_components/angular-material/angular-material.css">
    <link rel="stylesheet" href="bower_components/fontawesome/css/font-awesome.min.css">

    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/csp.css">
    <script src="js/jquery-2.1.4.min.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-aria/angular-aria.js"></script>
    <script src="bower_components/angular-animate/angular-animate.js"></script>
    <script src="bower_components/angular-material/angular-material.js"></script>
    <script src="js/uirouter.js"></script>
    <script src="js/respoke.js"></script>
    <script src="js/popup.js"></script>
    <script src="js/latinize.js"></script>
    <script src="js/computerspeak.js"></script>
  </head>
  <body ng-app="myApp" ng-csp>
      
    <div ng-controller="RespokeController">
    
        <md-toolbar ng-show="!connected">
           <div class="md-toolbar-tools">
            <h2 class="md-flex">Inter-Galactic Translation Service</h2>
            </div>
        </md-toolbar>
        <md-toolbar class="md-warn" ng-show="connected">
        <div class="md-toolbar-tools">
          <h2 class="md-flex">Connected as {{username}}</h2>
          <div flex></div>
          <md-button ng-click="disconnect()" aria-label="disconnect">disconnect</md-button>
        </div>
        </md-toolbar>
    
        <md-content layout-padding>


        <div ng-show="!connected">
            <select ng-options="item.short as item.name for item in languages" ng-model="language"></select>
            <select ng-options="item.voiceName as item.voiceName for item in voices | langFilt:language" ng-model="voice"></select>
            <md-input-container>
              <label>Username</label>
              <input ng-model="username">
            </md-input-container>
            <md-button class="md-primary md-raised" ng-click="connect()">Connect</md-button>
        </div>

        <div ng-show="connected">
            <md-input-container>
                <label>User to Call</label>
                <input ng-model="friendID" ng-show="!activeCall">
            </md-input-container>
            <md-button ng-click="call()" ng-show="!activeCall" aria-label="begin call"><i class="fa fa-phone"></i></md-button>
            <md-button ng-click="hangup()" ng-show="activeCall" aria-label="end call">Hang up</md-button>
        </div>

        <div id="remoteVideoSource"></div>
        <div id="localVideoSource"></div>
        
        </md-content>
        
    </div>
    <button class="green">start</button>
    <button class="red" disabled>stop</button>
    <span style="margin-left: 10px">Accent: <select id="lang">
        <option>de</option>
        <option selected>en</option>
        <option>es</option>
        <option>fr</option>
        <option>it</option>
        <option>nl</option>
        <option>zh</option>
    </select></span>
  <span id="status"></span>
  
  <button ng-click="testTranslate()">Test Translate</button>
    <p>{{output}}</p>
  
  <script src="js/rtt.js"></script>
  </body>
</html>