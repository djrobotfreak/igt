<!doctype html>
<html>
  <head>
    <title>Inter-Galactic Translation App</title>

    <link rel="stylesheet" href="bower_components/angular-material/angular-material.css">
    <link rel="stylesheet" href="bower_components/fontawesome/css/font-awesome.min.css">

    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/csp.css">
    <script src="js/jquery-2.1.4.min.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-aria/angular-aria.js"></script>
    <script src="bower_components/angular-animate/angular-animate.js"></script>
    <script src="bower_components/angular-material/angular-material.js"></script>
    <script src="js/uirouter.js"></script>
    <script src="js/respoke.js"></script>
    <script src="js/popup.js"></script>
    <script src="js/latinize.js"></script>
    <script src="js/computerspeak.js"></script>
  </head>
  <body ng-app="myApp" ng-csp>
      
    <div ng-controller="RespokeController">
    
        <md-toolbar ng-show="!connected">
           <div class="md-toolbar-tools">
            <h2 class="md-flex">Inter-Galactic Translation Service</h2>
            </div>
        </md-toolbar>
        <md-toolbar class="md-warn" ng-show="connected">
        <div class="md-toolbar-tools">
          <h2 class="md-flex">Connected as {{username}}</h2>
          <div flex></div>
          <md-button ng-click="disconnect()" aria-label="disconnect">disconnect</md-button>
        </div>
        </md-toolbar>
    
        <md-content layout-padding>
        
        <div ng-show="!connected">
                    <md-input-container>
               <label>Username</label>
              <input ng-model="username">
            </md-input-container>
            <md-button class="md-primary md-raised" ng-click="connect()">Connect</md-button>
        </div>
       
        <div ng-show="connected">
           
                   <div id="options" layout="row">
           <div layout="column">
                <md-toolbar>
                   <div class="md-toolbar-tools">
                        <h2 class="md-flex">From</h2>
                   </div>
                </md-toolbar>
                <md-select placeholder="select" ng-model="lang_in">
                    <md-option ng-repeat="item in languages">{{item.name}}</md-option>
                </md-select>
            </div>
            <div layout="column">
               <md-toolbar>
                   <div class="md-toolbar-tools">
                        <h2 class="md-flex">To</h2>
                   </div>
                </md-toolbar>
                <md-select placeholder="select" ng-model="lang_out">
                    <md-option ng-repeat="item in languages">{{item.name}}</md-option>
                </md-select>
            </div>
            <div layout="column" ng-show="lang_out && lang_in">
                <md-toolbar>
                   <div class="md-toolbar-tools">
                        <h2 class="md-flex">Voice</h2>
                   </div>
                </md-toolbar>
                <md-select placeholder="select" ng-model="voice"> 
                    <md-option ng-repeat="item in voices | langFilt:lang_out">{{item.voiceName}}</md-option>
                </md-select>
            </div>
             
        </div>
           
           
            <md-input-container>
                <label>User to Call</label>
                <input ng-model="friendID" ng-show="!activeCall">
            </md-input-container>
            <md-button ng-click="call()" ng-show="!activeCall" aria-label="begin call"><i class="fa fa-phone"></i></md-button>
            <md-button ng-click="hangup()" ng-show="activeCall" aria-label="end call">Hang up</md-button>
        </div>

        <div id="remoteVideoSource"></div>
        <div id="localVideoSource"></div>
        
        <md-switch ng-model="translating" aria-label="translating">
            Translating: {{ translating }}
        </md-switch>
        
        <md-slider ng-show="translating" class="md-primary" md-discrete ng-model="volume" step="1" min="1" max="10" aria-label="volume">
        </md-slider>
        </md-content>
        <md-button ng-click="toggle()"> start listening</button>
        <p>{{transcript}}</p>
        <p>{{output}}</p>
    </div>
            <!-- <div class="compact marquee">
            <div id="info">
              <p id="info_start">
                Click on the microphone icon and begin speaking for as long as you like.
              </p>
              <p id="info_speak_now" style="display:none">
                Speak now.
              </p>
              <p id="info_no_speech" style="display:none">
                No speech was detected. You may need to adjust your <a href=
                "//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892">microphone
                settings</a>.
              </p>
              <p id="info_no_microphone" style="display:none">
                No microphone was found. Ensure that a microphone is installed and that
                <a href="//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892">
                microphone settings</a> are configured correctly.
              </p>
              <p id="info_allow" style="display:none">
                Click the "Allow" button above to enable your microphone.
              </p>
              <p id="info_denied" style="display:none">
                Permission to use microphone was denied.
              </p>
              <p id="info_blocked" style="display:none">
                Permission to use microphone is blocked. To change, go to
                chrome://settings/contentExceptions#media-stream
              </p>
              <p id="info_upgrade" style="display:none">
                Web Speech API is not supported by this browser. Upgrade to <a href=
                "//www.google.com/chrome">Chrome</a> version 25 or later.
              </p>
            </div>
            <div id="div_start">
              <button id="start_button" onclick="startButton(event)"><img alt="Start" id="start_img"
              src="images/mic.gif"></button>
            </div>
            <div id="results">
              <span class="final" id="final_span"></span> <span class="interim" id=
              "interim_span"></span>
            </div>
            <div class="compact marquee" id="div_language">
              <select id="select_language" onchange="updateCountry()">
                </select>&nbsp;&nbsp; <select id="select_dialect">
                </select>
            </div>
        </div> -->
  
  <script src="js/rtt.js"></script>
  </body>
</html>